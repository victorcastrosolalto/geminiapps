<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB Business Management IA Marking Sheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <!-- Colour Palette: Energetic & Playful (Accents: #FC913A, #FF4E50) -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .card { background-color: white; border-radius: 12px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); padding: 32px; margin-bottom: 24px; }
        .input-style { border: 1px solid #d1d5db; padding: 8px 12px; border-radius: 6px; width: 100%; transition: border-color 0.15s ease-in-out; }
        .input-style:focus { border-color: #FC913A; outline: none; box-shadow: 0 0 0 3px rgba(252, 145, 58, 0.25); }
        .max-mark { width: 50px; text-align: center; border: none; font-weight: 600; background-color: transparent; }
        /* Increased width to 60px to ensure numbers fit */
        .mark-input { width: 60px; text-align: center; font-weight: 700; color: #FF4E50; }
        .accent-color { color: #FC913A; }

        /* Print Optimization Styles - Ensures only the form content prints cleanly */
        @media print {
            body { 
                background-color: white !important; 
                padding: 0 !important; 
                margin: 0 !important;
                overflow: hidden !important;
            }
            
            /* Reset all colors to black/white and remove shadows for print */
            * {
                color: #000 !important;
                box-shadow: none !important;
                text-shadow: none !important;
            }

            /* Card structure and borders */
            .card { 
                box-shadow: none !important; 
                border: 1px solid #000 !important; 
                border-radius: 0 !important; 
                padding: 16px !important; 
                margin-bottom: 16px !important; 
                background-color: white !important; 
            }

            /* Headings and accents */
            h1, h2 { border-bottom-color: black !important; }
            .accent-color { color: black !important; } 

            /* Tables and dividers */
            table, th, td { border-color: #000 !important; }
            .divide-y, .divide-y > * + * { border-color: #000 !important; border-top-width: 1px !important; }

            /* Input and Textarea Fixes for print visibility */
            .input-style, textarea {
                border: none !important;
                border-bottom: 1px solid #000 !important;
                padding: 0 0 2px 0 !important;
                border-radius: 0 !important;
                background-color: transparent !important;
                /* Crucial property to force browser to print colors exactly */
                -webkit-print-color-adjust: exact !important; 
                print-color-adjust: exact !important; 
                min-height: 20px;
            }
            /* Use a full border for feedback boxes for better print appearance */
            textarea {
                min-height: 80px !important;
                height: auto !important;
                border: 1px solid #000 !important;
                padding: 4px !important;
            }
            
            input[type="radio"] { opacity: 0.5; }
            .mark-input { color: black !important; font-weight: 700 !important; }
            .print-button { display: none !important; } /* Hide the button itself when printing */
            .max-w-4xl { max-width: 100% !important; margin: 0 auto !important; }
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 border-b-4 border-[#FC913A] pb-2">IB Business Management IA Marking Template</h1>

        <!-- Header Information -->
        <div class="card grid grid-cols-1 md:grid-cols-2 gap-6">
            <label class="block">
                <span class="text-sm font-medium text-gray-600">Student Name:</span>
                <input type="text" class="input-style mt-1" required>
            </label>
            <label class="block">
                <span class="text-sm font-medium text-gray-600">Student ID:</span>
                <input type="text" class="input-style mt-1" required>
            </label>
            <div class="flex items-center space-x-6">
                <span class="text-sm font-medium text-gray-600">Level:</span>
                <label class="inline-flex items-center">
                    <input type="radio" class="form-radio text-[#FF4E50]" name="level" value="SL">
                    <span class="ml-2 text-gray-700">SL (Standard Level)</span>
                </label>
                <label class="inline-flex items-center">
                    <input type="radio" class="form-radio text-[#FC913A]" name="level" value="HL">
                    <span class="ml-2 text-gray-700">HL (Higher Level)</span>
                </label>
            </div>
            <label class="block">
                <span class="text-sm font-medium text-gray-600">Date:</span>
                <input type="date" class="input-style mt-1" required>
            </label>
        </div>

        <!-- IA Assessment Criteria -->
        <div class="card">
            <h2 class="text-2xl font-semibold accent-color mb-4">IA Assessment Criteria (Total Marks: 25)</h2>
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Criterion</th>
                        <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Assessment Focus</th>
                        <th class="px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider max-w-[100px]">Max. Marks</th>
                        <th class="px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider max-w-[100px]">Mark Awarded</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <!-- Function to calculate total score (using JavaScript) -->
                    <tr id="row-A">
                        <td class="p-3 font-medium">A: Key Concept</td>
                        <td class="p-3 text-sm text-gray-700">Integration of a key concept (Change, Creativity, Ethics, or Sustainability).</td>
                        <td class="p-3 text-center"><input type="text" value="/ 5" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="5" class="mark-input input-style" data-max="4" id="mark-A" oninput="calculateTotal()" required></td>
                    </tr>
                    <tr id="row-B" class="bg-gray-50">
                        <td class="p-3 font-medium">B: Supporting Documents (SDs)</td>
                        <td class="p-3 text-sm text-gray-700">Selection, quality, and effective use of 3 to 5 SDs.</td>
                        <td class="p-3 text-center"><input type="text" value="/ 4" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="4" class="mark-input input-style" data-max="4" id="mark-B" oninput="calculateTotal()" required></td>
                    </tr>
                    <tr id="row-C">
                        <td class="p-3 font-medium">C: Tools and Theories</td>
                        <td class="p-3 text-sm text-gray-700">Accurate and appropriate selection and application of BM tools/theories.</td>
                        <td class="p-3 text-center"><input type="text" value="/ 4" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="4" class="mark-input input-style" data-max="4" id="mark-C" oninput="calculateTotal()" required></td>
                    </tr>
                    <tr id="row-D" class="bg-gray-50 font-bold text-[#FF4E50]">
                        <td class="p-3">D: Analysis and Evaluation</td>
                        <td class="p-3 text-sm text-gray-700">Critical thinking: interpreting data, weighing arguments, considering assumptions/bias.</td>
                        <td class="p-3 text-center"><input type="text" value="/ 5" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="5" class="mark-input input-style" data-max="5" id="mark-D" oninput="calculateTotal()" required></td>
                    </tr>
                    <tr id="row-E">
                        <td class="p-3 font-medium">E: Conclusions</td>
                        <td class="p-3 text-sm text-gray-700">Clarity, justification, and relation of the conclusion to the research question and evidence.</td>
                        <td class="p-3 text-center"><input type="text" value="/ 3" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="3" class="mark-input input-style" data-max="3" id="mark-E" oninput="calculateTotal()" required></td>
                    </tr>
                    <tr id="row-F" class="bg-gray-50">
                        <td class="p-3 font-medium">F: Structure</td>
                        <td class="p-3 text-sm text-gray-700">Logical flow, organization (introduction, main body, conclusion).</td>
                        <td class="p-3 text-center"><input type="text" value="/ 2" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="2" class="mark-input input-style" data-max="2" id="mark-F" oninput="calculateTotal()" required></td>
                    </tr>
                    <tr id="row-G">
                        <td class="p-3 font-medium">G: Presentation</td>
                        <td class="p-3 text-sm text-gray-700">Professional layout, formal elements, and accurate referencing/bibliography.</td>
                        <td class="p-3 text-center"><input type="text" value="/ 2" readonly class="max-mark"></td>
                        <td class="p-3 text-center"><input type="number" min="0" max="2" class="mark-input input-style" data-max="2" id="mark-G" oninput="calculateTotal()" required></td>
                    </tr>
                    <!-- Total Row -->
                    <tr>
                        <td class="p-3 text-lg font-extrabold accent-color" colspan="2">TOTAL MARK</td>
                        <td class="p-3 text-center text-lg font-extrabold text-gray-800">/ 25</td>
                        <td class="p-3 text-center text-lg font-extrabold text-[#FF4E50]" id="total-mark-display">/ 0</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Feedback and Final Review -->
        <div class="card">
            <h2 class="text-2xl font-semibold accent-color mb-4">Feedback and Final Review</h2>

            <!-- Word Count Check -->
            <div class="mb-6 border-b pb-4">
                <h3 class="text-xl font-medium text-gray-700 mb-3">I. Word Count Check</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="flex items-center">
                        <span class="text-sm font-medium text-gray-600 mr-2">Maximum Limit:</span>
                        <span class="font-semibold text-lg text-[#FF4E50]">1,800 words</span>
                    </div>
                    <label class="block">
                        <span class="text-sm font-medium text-gray-600">Student's Word Count:</span>
                        <input type="number" min="0" class="input-style mt-1" id="word-count" required>
                    </label>
                    <div class="flex flex-col">
                        <span class="text-sm font-medium text-gray-600">Action Taken (if over 1,800):</span>
                        <div class="flex items-center space-x-4 mt-2">
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio text-[#FC913A]" name="action_taken" value="Y">
                                <span class="ml-2 text-gray-700">Marker stopped reading (Y)</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio text-[#FC913A]" name="action_taken" value="N" checked>
                                <span class="ml-2 text-gray-700">N/A or No (N)</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marker Comments -->
            <h3 class="text-xl font-medium text-gray-700 mb-3">II. Marker Comments</h3>

            <div class="mb-4">
                <label class="block mb-2">
                    <span class="text-sm font-bold text-gray-700">Strengths (Focus on Criteria D & C):</span>
                    <textarea class="input-style mt-1 h-32" placeholder="Provide specific, constructive feedback..." required></textarea>
                </label>
            </div>

            <div class="mb-4">
                <label class="block mb-2">
                    <span class="text-sm font-bold text-gray-700">Areas for Improvement (To reach the next markband - Focus on Criteria A & B):</span>
                    <textarea class="input-style mt-1 h-32" placeholder="Provide specific, constructive feedback..." required></textarea>
                </label>
            </div>

            <label class="block mb-2">
                <span class="text-sm font-bold text-gray-700">Overall Comments:</span>
                <textarea class="input-style mt-1 h-40" placeholder="Summarize overall performance and next steps..." required></textarea>
            </label>

            <button type="button" onclick="window.print()" class="print-button w-full bg-[#FC913A] hover:bg-[#FF4E50] text-white font-bold py-3 px-4 rounded-lg mt-6 transition duration-150">
                Print / Save Assessment as PDF
            </button>
        </div>
    </div>

    <script>
        function calculateTotal() {
            const criteria = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];
            let total = 0;
            let allValid = true;

            criteria.forEach(id => {
                const input = document.getElementById('mark-' + id);
                const max = parseInt(input.getAttribute('data-max'));
                let value = parseInt(input.value);

                // Validation
                if (isNaN(value) || value < 0 || value > max) {
                    input.classList.add('border-red-500');
                    value = 0; // Treat as zero for calculation, but still flag visually
                    allValid = false;
                } else {
                    input.classList.remove('border-red-500');
                    total += value;
                }
            });

            const totalDisplay = document.getElementById('total-mark-display');
            totalDisplay.textContent = `/ ${total}`;
            
            // Highlight total if all valid and total is calculated
            if (allValid) {
                totalDisplay.classList.remove('text-[#FF4E50]');
                totalDisplay.classList.add('text-green-600');
            } else {
                totalDisplay.classList.add('text-[#FF4E50]');
                totalDisplay.classList.remove('text-green-600');
            }
        }

        // Initialize calculation listener for all mark inputs
        document.addEventListener('DOMContentLoaded', () => {
            const markInputs = document.querySelectorAll('.mark-input');
            markInputs.forEach(input => {
                input.addEventListener('input', calculateTotal);
            });
        });
    </script>
</body>
</html>
